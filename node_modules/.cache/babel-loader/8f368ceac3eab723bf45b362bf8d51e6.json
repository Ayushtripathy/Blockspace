{"ast":null,"code":"\"use strict\";\n\nvar _typeof = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _reduceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\");\n\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _Object$create = require(\"@babel/runtime-corejs3/core-js-stable/object/create\");\n\nvar _Symbol$replace = require(\"@babel/runtime-corejs3/core-js-stable/symbol/replace\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _setPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/setPrototypeOf\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _isNan = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-nan\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _RESTController = _interopRequireDefault(require(\"./RESTController\"));\n\nfunction _wrapRegExp() {\n  _wrapRegExp = function (re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n\n  var _super = RegExp.prototype,\n      _groups = new _WeakMap();\n\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n\n    return _groups.set(_this, groups || _groups.get(re)), (0, _setPrototypeOf2.default)(_this, BabelRegExp.prototype);\n  }\n\n  function buildGroups(result, re) {\n    var _context10;\n\n    var g = _groups.get(re);\n\n    return _reduceInstanceProperty(_context10 = _Object$keys2(g)).call(_context10, function (groups, name) {\n      return groups[name] = result[g[name]], groups;\n    }, _Object$create(null));\n  }\n\n  return (0, _inherits2.default)(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n\n    return result && (result.groups = buildGroups(result, this)), result;\n  }, BabelRegExp.prototype[_Symbol$replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n\n      return _super[_Symbol$replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    }\n\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n\n      return _super[_Symbol$replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != _typeof(args[args.length - 1]) && (args = _sliceInstanceProperty([]).call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n\n    return _super[_Symbol$replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\n\nvar DEEP_INDEX_API_HOST = 'deep-index.moralis.io';\nvar DEEP_INDEX_SWAGGER_PATH = '/api-docs/v2/swagger.json';\nvar TrackingEventName = (0, _freeze.default)({\n  START_FUNCTION: 'Moralis SDK start'\n});\n\nvar fetchSwaggerJson = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n    var _yield$RESTController, response;\n\n    return _regenerator.default.wrap(function (_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _RESTController.default.ajax('GET', \"https://\".concat(DEEP_INDEX_API_HOST).concat(DEEP_INDEX_SWAGGER_PATH));\n\n          case 2:\n            _yield$RESTController = _context.sent;\n            response = _yield$RESTController.response;\n            return _context.abrupt(\"return\", response);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function () {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getPathByTag = function (swaggerJSON) {\n  var _context2;\n\n  var pathByTag = {};\n  var pathDetails = {};\n  (0, _map.default)(_context2 = (0, _entries.default)(swaggerJSON.paths)).call(_context2, function (_ref2) {\n    var _context3;\n\n    var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n        pathName = _ref3[0],\n        requestData = _ref3[1];\n\n    return (0, _forEach.default)(_context3 = (0, _entries.default)(requestData)).call(_context3, function (_ref4) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),\n          method = _ref5[0],\n          data = _ref5[1];\n\n      var tags = data.tags;\n\n      if (tags.length > 0) {\n        if (!pathByTag[tags[0]]) {\n          pathByTag[tags[0]] = [];\n        }\n\n        pathByTag[tags[0]].push(data.operationId);\n        pathDetails[data.operationId] = {\n          method: method,\n          pathName: pathName,\n          data: data\n        };\n      }\n    });\n  });\n  return {\n    pathByTag: pathByTag,\n    pathDetails: pathDetails\n  };\n};\n\nvar fetchEndpoints = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    var _context4;\n\n    var swaggerJSON, _yield$getPathByTag, pathDetails, data;\n\n    return _regenerator.default.wrap(function (_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetchSwaggerJson();\n\n          case 2:\n            swaggerJSON = _context5.sent;\n            _context5.next = 5;\n            return getPathByTag(swaggerJSON);\n\n          case 5:\n            _yield$getPathByTag = _context5.sent;\n            pathDetails = _yield$getPathByTag.pathDetails;\n            data = [];\n            (0, _forEach.default)(_context4 = (0, _keys.default)(pathDetails)).call(_context4, function (x) {\n              var item = pathDetails[x];\n              var endpoint = {\n                method: item.method.toUpperCase(),\n                group: item.data.tags[0],\n                name: x,\n                url: item.pathName.split('{').join(':').split('}').join('')\n              };\n              data.push(endpoint);\n            });\n            return _context5.abrupt(\"return\", data);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function () {\n    return _ref6.apply(this, arguments);\n  };\n}();\n/**\n * Compares if the semantic version of version1 is larger than version2\n */\n\n\nvar isSemanticVersionLarger = function (version1, version2) {\n  var _context6, _context7;\n\n  var _version1$split = version1.split('-'),\n      _version1$split2 = (0, _slicedToArray2.default)(_version1$split, 2),\n      version1Main = _version1$split2[0],\n      version1Pre = _version1$split2[1];\n\n  var version1Arr = (0, _map.default)(_context6 = version1Main.split('.')).call(_context6, function (s) {\n    return Number(s);\n  });\n\n  var _version2$split = version2.split('-'),\n      _version2$split2 = (0, _slicedToArray2.default)(_version2$split, 2),\n      version2Main = _version2$split2[0],\n      version2Pre = _version2$split2[1];\n\n  var version2Arr = (0, _map.default)(_context7 = version2Main.split('.')).call(_context7, function (s) {\n    return Number(s);\n  });\n\n  for (var index = 0; index < 3; index++) {\n    var compare1 = version1Arr[index];\n    var compare2 = version2Arr[index];\n    if (compare1 > compare2) return true;\n    if (compare1 < compare2) return false;\n    if (!(0, _isNan.default)(compare1) && (0, _isNan.default)(compare2)) return true;\n    if ((0, _isNan.default)(compare1) && !(0, _isNan.default)(compare2)) return false;\n  } // Compare pre-releasees if main versions are the same\n\n\n  if (version1Pre && version2Pre) {\n    var _version1Pre$split$, _version2Pre$split$;\n\n    var version1PreNumber = (_version1Pre$split$ = version1Pre.split('.')[1]) !== null && _version1Pre$split$ !== void 0 ? _version1Pre$split$ : 0;\n    var version2PreNumber = (_version2Pre$split$ = version2Pre.split('.')[1]) !== null && _version2Pre$split$ !== void 0 ? _version2Pre$split$ : 0;\n    return version1PreNumber > version2PreNumber;\n  } // If version2 is a pre-release and version1 is not, then version 1 is newer\n\n\n  if (version2Pre) {\n    return true;\n  }\n\n  return false;\n};\n\nvar checkForSdkUpdates = /*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n    var _yield$RESTController2, response, latestVersion, installedVersion;\n\n    return _regenerator.default.wrap(function (_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return _RESTController.default.ajax('GET', 'https://www.unpkg.com/moralis/package.json');\n\n          case 3:\n            _yield$RESTController2 = _context8.sent;\n            response = _yield$RESTController2.response;\n            latestVersion = response.version;\n            installedVersion = \"1.5.8\";\n            if (isSemanticVersionLarger(latestVersion, installedVersion)) // eslint-disable-next-line no-console\n              console.warn(\"You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: \".concat(latestVersion));\n            _context8.next = 12;\n            break;\n\n          case 10:\n            _context8.prev = 10;\n            _context8.t0 = _context8[\"catch\"](0);\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n\n  return function () {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar trackEvent = /*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(name, subdomain, options) {\n    var _yield$RESTController3, response;\n\n    return _regenerator.default.wrap(function (_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return _RESTController.default.ajax('POST', 'https://internal-api.moralis.io/api/functions/trackEvent', (0, _stringify.default)({\n              subdomain: subdomain,\n              event: name,\n              options: options\n            }), {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'\n            });\n\n          case 3:\n            _yield$RESTController3 = _context9.sent;\n            response = _yield$RESTController3.response;\n            return _context9.abrupt(\"return\", response.result);\n\n          case 8:\n            _context9.prev = 8;\n            _context9.t0 = _context9[\"catch\"](0);\n\n          case 10:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee4, null, [[0, 8]]);\n  }));\n\n  return function () {\n    return _ref8.apply(this, arguments);\n  };\n}();\n/**\n * Regex to validate serverUrl, for example: https://xxxxxxxxxxxx.yyyyyyyyyy.zzzzzz:1234/server\n * It's very generous and doesn't assume the value of domain, subdomain and port, it only checks if we can extract\n * a subddomain\n */\n\n\nvar validServerUrlRegex = /*#__PURE__*/_wrapRegExp(/^https?:\\/\\/([0-9A-Z_a-z]+\\.[0-9A-Z_a-z]+\\.[0-9A-Z_a-z]+)(:[0-9]{4})?\\/server\\/?$/, {\n  subdomain: 1\n});\n\nvar validateServerUrl = function (serverUrl) {\n  return validServerUrlRegex.test(serverUrl);\n};\n\nvar getSubdomain = function (serverUrl) {\n  var _match$groups$subdoma, _match$groups;\n\n  var isValidServerUrl = validateServerUrl(serverUrl);\n\n  if (!isValidServerUrl) {\n    return null;\n  }\n\n  var match = validServerUrlRegex.exec(serverUrl);\n  return (_match$groups$subdoma = match === null || match === void 0 ? void 0 : (_match$groups = match.groups) === null || _match$groups === void 0 ? void 0 : _match$groups.subdomain) !== null && _match$groups$subdoma !== void 0 ? _match$groups$subdoma : null;\n};\n\nmodule.exports = {\n  fetchSwaggerJson: fetchSwaggerJson,\n  getPathByTag: getPathByTag,\n  fetchEndpoints: fetchEndpoints,\n  checkForSdkUpdates: checkForSdkUpdates,\n  trackEvent: trackEvent,\n  TrackingEventName: TrackingEventName,\n  getSubdomain: getSubdomain\n};","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Twitter-Start/node_modules/moralis/lib/browser/utils.js"],"names":["_typeof","require","_WeakMap","_reduceInstanceProperty","_Object$keys2","_Object$create","_Symbol$replace","_sliceInstanceProperty","_interopRequireDefault","_regenerator","_inherits2","_setPrototypeOf2","_slicedToArray2","_asyncToGenerator2","_freeze","_map","_entries","_forEach","_keys","_isNan","_stringify","_RESTController","_wrapRegExp","re","groups","BabelRegExp","_super","RegExp","prototype","_groups","flags","_this","set","get","default","buildGroups","result","_context10","g","call","name","exec","str","substitution","replace","_","args","arguments","length","push","apply","DEEP_INDEX_API_HOST","DEEP_INDEX_SWAGGER_PATH","TrackingEventName","START_FUNCTION","fetchSwaggerJson","_ref","mark","_callee","_yield$RESTController","response","wrap","_context","prev","next","ajax","concat","sent","abrupt","stop","getPathByTag","swaggerJSON","_context2","pathByTag","pathDetails","paths","_ref2","_context3","_ref3","pathName","requestData","_ref4","_ref5","method","data","tags","operationId","fetchEndpoints","_ref6","_callee2","_context4","_yield$getPathByTag","_context5","x","item","endpoint","toUpperCase","group","url","split","join","isSemanticVersionLarger","version1","version2","_context6","_context7","_version1$split","_version1$split2","version1Main","version1Pre","version1Arr","s","Number","_version2$split","_version2$split2","version2Main","version2Pre","version2Arr","index","compare1","compare2","_version1Pre$split$","_version2Pre$split$","version1PreNumber","version2PreNumber","checkForSdkUpdates","_ref7","_callee3","_yield$RESTController2","latestVersion","installedVersion","_context8","version","console","warn","t0","trackEvent","_ref8","_callee4","subdomain","options","_yield$RESTController3","_context9","event","Accept","validServerUrlRegex","validateServerUrl","serverUrl","test","getSubdomain","_match$groups$subdoma","_match$groups","isValidServerUrl","match","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _typeof = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _reduceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/reduce\");\n\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _Object$create = require(\"@babel/runtime-corejs3/core-js-stable/object/create\");\n\nvar _Symbol$replace = require(\"@babel/runtime-corejs3/core-js-stable/symbol/replace\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _setPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/setPrototypeOf\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _entries = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/entries\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _isNan = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/number/is-nan\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _RESTController = _interopRequireDefault(require(\"./RESTController\"));\n\nfunction _wrapRegExp() {\n  _wrapRegExp = function (re, groups) {\n    return new BabelRegExp(re, void 0, groups);\n  };\n\n  var _super = RegExp.prototype,\n      _groups = new _WeakMap();\n\n  function BabelRegExp(re, flags, groups) {\n    var _this = new RegExp(re, flags);\n\n    return _groups.set(_this, groups || _groups.get(re)), (0, _setPrototypeOf2.default)(_this, BabelRegExp.prototype);\n  }\n\n  function buildGroups(result, re) {\n    var _context10;\n\n    var g = _groups.get(re);\n\n    return _reduceInstanceProperty(_context10 = _Object$keys2(g)).call(_context10, function (groups, name) {\n      return groups[name] = result[g[name]], groups;\n    }, _Object$create(null));\n  }\n\n  return (0, _inherits2.default)(BabelRegExp, RegExp), BabelRegExp.prototype.exec = function (str) {\n    var result = _super.exec.call(this, str);\n\n    return result && (result.groups = buildGroups(result, this)), result;\n  }, BabelRegExp.prototype[_Symbol$replace] = function (str, substitution) {\n    if (\"string\" == typeof substitution) {\n      var groups = _groups.get(this);\n\n      return _super[_Symbol$replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n        return \"$\" + groups[name];\n      }));\n    }\n\n    if (\"function\" == typeof substitution) {\n      var _this = this;\n\n      return _super[_Symbol$replace].call(this, str, function () {\n        var args = arguments;\n        return \"object\" != _typeof(args[args.length - 1]) && (args = _sliceInstanceProperty([]).call(args)).push(buildGroups(args, _this)), substitution.apply(this, args);\n      });\n    }\n\n    return _super[_Symbol$replace].call(this, str, substitution);\n  }, _wrapRegExp.apply(this, arguments);\n}\n\nvar DEEP_INDEX_API_HOST = 'deep-index.moralis.io';\nvar DEEP_INDEX_SWAGGER_PATH = '/api-docs/v2/swagger.json';\nvar TrackingEventName = (0, _freeze.default)({\n  START_FUNCTION: 'Moralis SDK start'\n});\n\nvar fetchSwaggerJson = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n    var _yield$RESTController, response;\n\n    return _regenerator.default.wrap(function (_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _RESTController.default.ajax('GET', \"https://\".concat(DEEP_INDEX_API_HOST).concat(DEEP_INDEX_SWAGGER_PATH));\n\n          case 2:\n            _yield$RESTController = _context.sent;\n            response = _yield$RESTController.response;\n            return _context.abrupt(\"return\", response);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function () {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getPathByTag = function (swaggerJSON) {\n  var _context2;\n\n  var pathByTag = {};\n  var pathDetails = {};\n  (0, _map.default)(_context2 = (0, _entries.default)(swaggerJSON.paths)).call(_context2, function (_ref2) {\n    var _context3;\n\n    var _ref3 = (0, _slicedToArray2.default)(_ref2, 2),\n        pathName = _ref3[0],\n        requestData = _ref3[1];\n\n    return (0, _forEach.default)(_context3 = (0, _entries.default)(requestData)).call(_context3, function (_ref4) {\n      var _ref5 = (0, _slicedToArray2.default)(_ref4, 2),\n          method = _ref5[0],\n          data = _ref5[1];\n\n      var tags = data.tags;\n\n      if (tags.length > 0) {\n        if (!pathByTag[tags[0]]) {\n          pathByTag[tags[0]] = [];\n        }\n\n        pathByTag[tags[0]].push(data.operationId);\n        pathDetails[data.operationId] = {\n          method: method,\n          pathName: pathName,\n          data: data\n        };\n      }\n    });\n  });\n  return {\n    pathByTag: pathByTag,\n    pathDetails: pathDetails\n  };\n};\n\nvar fetchEndpoints = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n    var _context4;\n\n    var swaggerJSON, _yield$getPathByTag, pathDetails, data;\n\n    return _regenerator.default.wrap(function (_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return fetchSwaggerJson();\n\n          case 2:\n            swaggerJSON = _context5.sent;\n            _context5.next = 5;\n            return getPathByTag(swaggerJSON);\n\n          case 5:\n            _yield$getPathByTag = _context5.sent;\n            pathDetails = _yield$getPathByTag.pathDetails;\n            data = [];\n            (0, _forEach.default)(_context4 = (0, _keys.default)(pathDetails)).call(_context4, function (x) {\n              var item = pathDetails[x];\n              var endpoint = {\n                method: item.method.toUpperCase(),\n                group: item.data.tags[0],\n                name: x,\n                url: item.pathName.split('{').join(':').split('}').join('')\n              };\n              data.push(endpoint);\n            });\n            return _context5.abrupt(\"return\", data);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function () {\n    return _ref6.apply(this, arguments);\n  };\n}();\n/**\n * Compares if the semantic version of version1 is larger than version2\n */\n\n\nvar isSemanticVersionLarger = function (version1, version2) {\n  var _context6, _context7;\n\n  var _version1$split = version1.split('-'),\n      _version1$split2 = (0, _slicedToArray2.default)(_version1$split, 2),\n      version1Main = _version1$split2[0],\n      version1Pre = _version1$split2[1];\n\n  var version1Arr = (0, _map.default)(_context6 = version1Main.split('.')).call(_context6, function (s) {\n    return Number(s);\n  });\n\n  var _version2$split = version2.split('-'),\n      _version2$split2 = (0, _slicedToArray2.default)(_version2$split, 2),\n      version2Main = _version2$split2[0],\n      version2Pre = _version2$split2[1];\n\n  var version2Arr = (0, _map.default)(_context7 = version2Main.split('.')).call(_context7, function (s) {\n    return Number(s);\n  });\n\n  for (var index = 0; index < 3; index++) {\n    var compare1 = version1Arr[index];\n    var compare2 = version2Arr[index];\n    if (compare1 > compare2) return true;\n    if (compare1 < compare2) return false;\n    if (!(0, _isNan.default)(compare1) && (0, _isNan.default)(compare2)) return true;\n    if ((0, _isNan.default)(compare1) && !(0, _isNan.default)(compare2)) return false;\n  } // Compare pre-releasees if main versions are the same\n\n\n  if (version1Pre && version2Pre) {\n    var _version1Pre$split$, _version2Pre$split$;\n\n    var version1PreNumber = (_version1Pre$split$ = version1Pre.split('.')[1]) !== null && _version1Pre$split$ !== void 0 ? _version1Pre$split$ : 0;\n    var version2PreNumber = (_version2Pre$split$ = version2Pre.split('.')[1]) !== null && _version2Pre$split$ !== void 0 ? _version2Pre$split$ : 0;\n    return version1PreNumber > version2PreNumber;\n  } // If version2 is a pre-release and version1 is not, then version 1 is newer\n\n\n  if (version2Pre) {\n    return true;\n  }\n\n  return false;\n};\n\nvar checkForSdkUpdates = /*#__PURE__*/function () {\n  var _ref7 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n    var _yield$RESTController2, response, latestVersion, installedVersion;\n\n    return _regenerator.default.wrap(function (_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return _RESTController.default.ajax('GET', 'https://www.unpkg.com/moralis/package.json');\n\n          case 3:\n            _yield$RESTController2 = _context8.sent;\n            response = _yield$RESTController2.response;\n            latestVersion = response.version;\n            installedVersion = \"1.5.8\";\n            if (isSemanticVersionLarger(latestVersion, installedVersion)) // eslint-disable-next-line no-console\n              console.warn(\"You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: \".concat(latestVersion));\n            _context8.next = 12;\n            break;\n\n          case 10:\n            _context8.prev = 10;\n            _context8.t0 = _context8[\"catch\"](0);\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee3, null, [[0, 10]]);\n  }));\n\n  return function () {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar trackEvent = /*#__PURE__*/function () {\n  var _ref8 = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(name, subdomain, options) {\n    var _yield$RESTController3, response;\n\n    return _regenerator.default.wrap(function (_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return _RESTController.default.ajax('POST', 'https://internal-api.moralis.io/api/functions/trackEvent', (0, _stringify.default)({\n              subdomain: subdomain,\n              event: name,\n              options: options\n            }), {\n              Accept: 'application/json',\n              'Content-Type': 'application/json'\n            });\n\n          case 3:\n            _yield$RESTController3 = _context9.sent;\n            response = _yield$RESTController3.response;\n            return _context9.abrupt(\"return\", response.result);\n\n          case 8:\n            _context9.prev = 8;\n            _context9.t0 = _context9[\"catch\"](0);\n\n          case 10:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee4, null, [[0, 8]]);\n  }));\n\n  return function () {\n    return _ref8.apply(this, arguments);\n  };\n}();\n/**\n * Regex to validate serverUrl, for example: https://xxxxxxxxxxxx.yyyyyyyyyy.zzzzzz:1234/server\n * It's very generous and doesn't assume the value of domain, subdomain and port, it only checks if we can extract\n * a subddomain\n */\n\n\nvar validServerUrlRegex = /*#__PURE__*/_wrapRegExp(/^https?:\\/\\/([0-9A-Z_a-z]+\\.[0-9A-Z_a-z]+\\.[0-9A-Z_a-z]+)(:[0-9]{4})?\\/server\\/?$/, {\n  subdomain: 1\n});\n\nvar validateServerUrl = function (serverUrl) {\n  return validServerUrlRegex.test(serverUrl);\n};\n\nvar getSubdomain = function (serverUrl) {\n  var _match$groups$subdoma, _match$groups;\n\n  var isValidServerUrl = validateServerUrl(serverUrl);\n\n  if (!isValidServerUrl) {\n    return null;\n  }\n\n  var match = validServerUrlRegex.exec(serverUrl);\n  return (_match$groups$subdoma = match === null || match === void 0 ? void 0 : (_match$groups = match.groups) === null || _match$groups === void 0 ? void 0 : _match$groups.subdomain) !== null && _match$groups$subdoma !== void 0 ? _match$groups$subdoma : null;\n};\n\nmodule.exports = {\n  fetchSwaggerJson: fetchSwaggerJson,\n  getPathByTag: getPathByTag,\n  fetchEndpoints: fetchEndpoints,\n  checkForSdkUpdates: checkForSdkUpdates,\n  trackEvent: trackEvent,\n  TrackingEventName: TrackingEventName,\n  getSubdomain: getSubdomain\n};"]},"metadata":{},"sourceType":"script"}