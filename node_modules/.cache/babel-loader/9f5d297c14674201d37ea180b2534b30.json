{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storeTransformStream = void 0;\n\nconst through2_1 = require(\"through2\");\n\nfunction storeTransformStream(syncTransformFn) {\n  return through2_1.obj((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n\nexports.storeTransformStream = storeTransformStream;","map":{"version":3,"sources":["../src/transform.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,UAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,SAAgB,oBAAhB,CAA2C,eAA3C,EAA2E;AACzE,SAAO,UAAA,CAAA,GAAA,CAAgB,CAAC,KAAD,EAAQ,SAAR,EAAmB,EAAnB,KAAyB;AAC9C,QAAI;AACF,YAAM,QAAQ,GAAG,eAAe,CAAC,KAAD,CAAhC;AACA,MAAA,EAAE,CAAC,IAAD,EAAO,QAAP,CAAF;AACA,aAAO,SAAP;AACD,KAJD,CAIE,OAAO,GAAP,EAAY;AACZ,MAAA,EAAE,CAAC,GAAD,CAAF;AACA,aAAO,SAAP;AACD;AACF,GATM,CAAP;AAUD;;AAXD,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourcesContent":["import { obj as TransformStream } from 'through2';\n\nexport function storeTransformStream<T, U>(syncTransformFn: (state: T) => U) {\n  return TransformStream((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}