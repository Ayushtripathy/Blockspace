{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var _context;\n\n  var encountered = {\n    objects: {},\n    files: []\n  };\n  var identifier = (0, _concat.default)(_context = \"\".concat(obj.className, \":\")).call(_context, obj._getId());\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    var _context2;\n\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = (0, _concat.default)(_context2 = \"\".concat(obj.className, \":\")).call(_context2, obj._getId());\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context3;\n\n    if (!obj.url() && (0, _indexOf.default)(_context3 = encountered.files).call(_context3, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Twitter-Start/node_modules/moralis/lib/browser/unsavedChildren.js"],"names":["_Object$defineProperty","require","_interopRequireDefault","exports","value","default","unsavedChildren","_typeof2","_concat","_indexOf","_isArray","_forEach","_ParseFile","_ParseObject","_ParseRelation","obj","allowDeepUnsaved","_context","encountered","objects","files","identifier","concat","className","call","_getId","dirty","attributes","attr","traverse","unsaved","id","push","shouldThrow","_context2","Error","_identifier","_context3","url","el","k"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var _context;\n\n  var encountered = {\n    objects: {},\n    files: []\n  };\n  var identifier = (0, _concat.default)(_context = \"\".concat(obj.className, \":\")).call(_context, obj._getId());\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    var _context2;\n\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = (0, _concat.default)(_context2 = \"\".concat(obj.className, \":\")).call(_context2, obj._getId());\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context3;\n\n    if (!obj.url() && (0, _indexOf.default)(_context3 = encountered.files).call(_context3, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}"]},"metadata":{},"sourceType":"script"}