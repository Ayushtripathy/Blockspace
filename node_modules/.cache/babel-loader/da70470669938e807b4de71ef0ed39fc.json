{"ast":null,"code":"\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.InjectedEvents = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/wrapNativeSuper\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _verifyChainId = _interopRequireDefault(require(\"../utils/verifyChainId\"));\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar InjectedEvents = (0, _freeze.default)({\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged',\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect'\n});\nexports.InjectedEvents = InjectedEvents;\n\nvar NoEthereumProviderError = /*#__PURE__*/function (_Error) {\n  (0, _inherits2.default)(NoEthereumProviderError, _Error);\n\n  var _super = _createSuper(NoEthereumProviderError);\n\n  function NoEthereumProviderError() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, NoEthereumProviderError);\n    _this = _super.call(this);\n    _this.message = 'Non ethereum enabled browser';\n    return _this;\n  }\n\n  return (0, _createClass2.default)(NoEthereumProviderError);\n}( /*#__PURE__*/(0, _wrapNativeSuper2.default)(Error));\n/**\n * Connector to connect an injected provider (like Metamask) to Moralis\n * The provider should be injected in window.ethereum\n */\n\n\nvar InjectedWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(InjectedWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super2 = _createSuper(InjectedWeb3Connector);\n\n  function InjectedWeb3Connector() {\n    var _context;\n\n    var _this2;\n\n    (0, _classCallCheck2.default)(this, InjectedWeb3Connector);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super2.call.apply(_super2, (0, _concat.default)(_context = [this]).call(_context, args));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this2), \"type\", 'injected');\n    return _this2;\n  }\n\n  (0, _createClass2.default)(InjectedWeb3Connector, [{\n    key: \"verifyEthereumBrowser\",\n    value: function () {\n      var _window;\n\n      if (!((_window = window) !== null && _window !== void 0 && _window.ethereum)) {\n        throw new NoEthereumProviderError();\n      }\n    }\n  }, {\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _yield$Promise$all, _yield$Promise$all2, accounts, chainId, account, provider;\n\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                _context2.next = 3;\n                return _promise.default.all([window.ethereum.request({\n                  method: 'eth_requestAccounts'\n                }), window.ethereum.request({\n                  method: 'eth_chainId'\n                })]);\n\n              case 3:\n                _yield$Promise$all = _context2.sent;\n                _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2);\n                accounts = _yield$Promise$all2[0];\n                chainId = _yield$Promise$all2[1];\n                account = accounts[0] ? accounts[0].toLowerCase() : null;\n                provider = window.ethereum;\n                this.chainId = chainId;\n                this.account = account;\n                this.provider = provider;\n                this.subscribeToEvents(provider);\n                return _context2.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: chainId,\n                  account: account\n                });\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      var _switchNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(chainId) {\n        var currentNetwork;\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                chainId = (0, _verifyChainId.default)(chainId);\n                currentNetwork = this.chainId;\n\n                if (!(currentNetwork === chainId)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _context3.next = 7;\n                return window.ethereum.request({\n                  method: 'wallet_switchEthereumChain',\n                  params: [{\n                    chainId: chainId\n                  }]\n                });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _switchNetwork.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      var _addNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(chainId, chainName, currencyName, currencySymbol, rpcUrl, blockExplorerUrl) {\n        var newchainId;\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                newchainId = (0, _verifyChainId.default)(chainId);\n                _context4.next = 4;\n                return window.ethereum.request({\n                  method: 'wallet_addEthereumChain',\n                  params: [{\n                    chainId: newchainId,\n                    chainName: chainName,\n                    nativeCurrency: {\n                      name: currencyName,\n                      symbol: currencySymbol,\n                      decimals: 18\n                    },\n                    rpcUrls: [rpcUrl],\n                    blockExplorerUrls: blockExplorerUrl ? [blockExplorerUrl] : null\n                  }]\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function () {\n        return _addNetwork.apply(this, arguments);\n      };\n    }()\n  }]);\n  return InjectedWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nvar _default = InjectedWeb3Connector;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Twitter-Start/node_modules/moralis/lib/browser/Web3Connector/InjectedWeb3Connector.js"],"names":["_Reflect$construct","require","_Object$defineProperty","_interopRequireDefault","exports","value","default","InjectedEvents","_regenerator","_slicedToArray2","_asyncToGenerator2","_assertThisInitialized2","_defineProperty2","_createClass2","_classCallCheck2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_wrapNativeSuper2","_freeze","_concat","_promise","_AbstractWeb3Connector","_events","_verifyChainId","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","arguments","apply","Reflect","sham","Proxy","Boolean","prototype","valueOf","call","e","ACCOUNTS_CHANGED","CHAIN_CHANGED","CONNECT","DISCONNECT","NoEthereumProviderError","_Error","_super","_this","message","Error","InjectedWeb3Connector","_AbstractWeb3Connecto","_super2","_context","_this2","_len","length","args","Array","_key","key","_window","window","ethereum","_activate","mark","_callee","_yield$Promise$all","_yield$Promise$all2","accounts","chainId","account","provider","wrap","_context2","prev","next","verifyEthereumBrowser","all","request","method","sent","toLowerCase","subscribeToEvents","abrupt","stop","_switchNetwork","_callee2","currentNetwork","_context3","params","_addNetwork","_callee3","chainName","currencyName","currencySymbol","rpcUrl","blockExplorerUrl","newchainId","_context4","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","_default"],"mappings":"AAAA;;AAEA,IAAIA,kBAAkB,GAAGC,OAAO,CAAC,yDAAD,CAAhC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8DAAD,CAApC;;AAEA,IAAIE,sBAAsB,GAAGF,OAAO,CAAC,sDAAD,CAApC;;AAEAC,sBAAsB,CAACE,OAAD,EAAU,YAAV,EAAwB;AAC5CC,EAAAA,KAAK,EAAE;AADqC,CAAxB,CAAtB;;AAIAD,OAAO,CAACE,OAAR,GAAkBF,OAAO,CAACG,cAAR,GAAyB,KAAK,CAAhD;;AAEA,IAAIC,YAAY,GAAGL,sBAAsB,CAACF,OAAO,CAAC,oCAAD,CAAR,CAAzC;;AAEA,IAAIQ,eAAe,GAAGN,sBAAsB,CAACF,OAAO,CAAC,8CAAD,CAAR,CAA5C;;AAEA,IAAIS,kBAAkB,GAAGP,sBAAsB,CAACF,OAAO,CAAC,iDAAD,CAAR,CAA/C;;AAEA,IAAIU,uBAAuB,GAAGR,sBAAsB,CAACF,OAAO,CAAC,sDAAD,CAAR,CAApD;;AAEA,IAAIW,gBAAgB,GAAGT,sBAAsB,CAACF,OAAO,CAAC,+CAAD,CAAR,CAA7C;;AAEA,IAAIY,aAAa,GAAGV,sBAAsB,CAACF,OAAO,CAAC,4CAAD,CAAR,CAA1C;;AAEA,IAAIa,gBAAgB,GAAGX,sBAAsB,CAACF,OAAO,CAAC,+CAAD,CAAR,CAA7C;;AAEA,IAAIc,UAAU,GAAGZ,sBAAsB,CAACF,OAAO,CAAC,yCAAD,CAAR,CAAvC;;AAEA,IAAIe,2BAA2B,GAAGb,sBAAsB,CAACF,OAAO,CAAC,0DAAD,CAAR,CAAxD;;AAEA,IAAIgB,gBAAgB,GAAGd,sBAAsB,CAACF,OAAO,CAAC,+CAAD,CAAR,CAA7C;;AAEA,IAAIiB,iBAAiB,GAAGf,sBAAsB,CAACF,OAAO,CAAC,gDAAD,CAAR,CAA9C;;AAEA,IAAIkB,OAAO,GAAGhB,sBAAsB,CAACF,OAAO,CAAC,qDAAD,CAAR,CAApC;;AAEA,IAAImB,OAAO,GAAGjB,sBAAsB,CAACF,OAAO,CAAC,uDAAD,CAAR,CAApC;;AAEA,IAAIoB,QAAQ,GAAGlB,sBAAsB,CAACF,OAAO,CAAC,+CAAD,CAAR,CAArC;;AAEA,IAAIqB,sBAAsB,GAAGnB,sBAAsB,CAACF,OAAO,CAAC,yBAAD,CAAR,CAAnD;;AAEA,IAAIsB,OAAO,GAAGpB,sBAAsB,CAACF,OAAO,CAAC,QAAD,CAAR,CAApC;;AAEA,IAAIuB,cAAc,GAAGrB,sBAAsB,CAACF,OAAO,CAAC,wBAAD,CAAR,CAA3C;;AAEA,SAASwB,YAAT,CAAsBC,OAAtB,EAA+B;AAC7B,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAEA,SAAO,YAAY;AACjB,QAAIC,KAAK,GAAG,CAAC,GAAGZ,gBAAgB,CAACX,OAArB,EAA8BoB,OAA9B,CAAZ;AAAA,QACII,MADJ;;AAGA,QAAIH,yBAAJ,EAA+B;AAC7B,UAAII,SAAS,GAAG,CAAC,GAAGd,gBAAgB,CAACX,OAArB,EAA8B,IAA9B,EAAoC0B,WAApD;AACAF,MAAAA,MAAM,GAAG9B,kBAAkB,CAAC6B,KAAD,EAAQI,SAAR,EAAmBF,SAAnB,CAA3B;AACD,KAHD,MAGO;AACLD,MAAAA,MAAM,GAAGD,KAAK,CAACK,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AACD;;AAED,WAAO,CAAC,GAAGjB,2BAA2B,CAACV,OAAhC,EAAyC,IAAzC,EAA+CwB,MAA/C,CAAP;AACD,GAZD;AAaD;;AAED,SAASF,yBAAT,GAAqC;AACnC,MAAI,OAAOO,OAAP,KAAmB,WAAnB,IAAkC,CAACnC,kBAAvC,EAA2D,OAAO,KAAP;AAC3D,MAAIA,kBAAkB,CAACoC,IAAvB,EAA6B,OAAO,KAAP;AAC7B,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAEjC,MAAI;AACFC,IAAAA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,CAA0BC,IAA1B,CAA+BzC,kBAAkB,CAACsC,OAAD,EAAU,EAAV,EAAc,YAAY,CAAE,CAA5B,CAAjD;AACA,WAAO,IAAP;AACD,GAHD,CAGE,OAAOI,CAAP,EAAU;AACV,WAAO,KAAP;AACD;AACF;;AAED,IAAInC,cAAc,GAAG,CAAC,GAAGY,OAAO,CAACb,OAAZ,EAAqB;AACxCqC,EAAAA,gBAAgB,EAAE,iBADsB;AAExCC,EAAAA,aAAa,EAAE,cAFyB;AAGxCC,EAAAA,OAAO,EAAE,SAH+B;AAIxCC,EAAAA,UAAU,EAAE;AAJ4B,CAArB,CAArB;AAMA1C,OAAO,CAACG,cAAR,GAAyBA,cAAzB;;AAEA,IAAIwC,uBAAuB,GAAG,aAAa,UAAUC,MAAV,EAAkB;AAC3D,GAAC,GAAGjC,UAAU,CAACT,OAAf,EAAwByC,uBAAxB,EAAiDC,MAAjD;;AAEA,MAAIC,MAAM,GAAGxB,YAAY,CAACsB,uBAAD,CAAzB;;AAEA,WAASA,uBAAT,GAAmC;AACjC,QAAIG,KAAJ;;AAEA,KAAC,GAAGpC,gBAAgB,CAACR,OAArB,EAA8B,IAA9B,EAAoCyC,uBAApC;AACAG,IAAAA,KAAK,GAAGD,MAAM,CAACR,IAAP,CAAY,IAAZ,CAAR;AACAS,IAAAA,KAAK,CAACC,OAAN,GAAgB,8BAAhB;AACA,WAAOD,KAAP;AACD;;AAED,SAAO,CAAC,GAAGrC,aAAa,CAACP,OAAlB,EAA2ByC,uBAA3B,CAAP;AACD,CAf0C,EAexC,aAAa,CAAC,GAAG7B,iBAAiB,CAACZ,OAAtB,EAA+B8C,KAA/B,CAf2B,CAA3C;AAgBA;AACA;AACA;AACA;;;AAGA,IAAIC,qBAAqB,GAAG,aAAa,UAAUC,qBAAV,EAAiC;AACxE,GAAC,GAAGvC,UAAU,CAACT,OAAf,EAAwB+C,qBAAxB,EAA+CC,qBAA/C;;AAEA,MAAIC,OAAO,GAAG9B,YAAY,CAAC4B,qBAAD,CAA1B;;AAEA,WAASA,qBAAT,GAAiC;AAC/B,QAAIG,QAAJ;;AAEA,QAAIC,MAAJ;;AAEA,KAAC,GAAG3C,gBAAgB,CAACR,OAArB,EAA8B,IAA9B,EAAoC+C,qBAApC;;AAEA,SAAK,IAAIK,IAAI,GAAGzB,SAAS,CAAC0B,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAV,CAApC,EAAqDI,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGJ,IAA3E,EAAiFI,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAa7B,SAAS,CAAC6B,IAAD,CAAtB;AACD;;AAEDL,IAAAA,MAAM,GAAGF,OAAO,CAACd,IAAR,CAAaP,KAAb,CAAmBqB,OAAnB,EAA4B,CAAC,GAAGnC,OAAO,CAACd,OAAZ,EAAqBkD,QAAQ,GAAG,CAAC,IAAD,CAAhC,EAAwCf,IAAxC,CAA6Ce,QAA7C,EAAuDI,IAAvD,CAA5B,CAAT;AACA,KAAC,GAAGhD,gBAAgB,CAACN,OAArB,EAA8B,CAAC,GAAGK,uBAAuB,CAACL,OAA5B,EAAqCmD,MAArC,CAA9B,EAA4E,MAA5E,EAAoF,UAApF;AACA,WAAOA,MAAP;AACD;;AAED,GAAC,GAAG5C,aAAa,CAACP,OAAlB,EAA2B+C,qBAA3B,EAAkD,CAAC;AACjDU,IAAAA,GAAG,EAAE,uBAD4C;AAEjD1D,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAI2D,OAAJ;;AAEA,UAAI,EAAE,CAACA,OAAO,GAAGC,MAAX,MAAuB,IAAvB,IAA+BD,OAAO,KAAK,KAAK,CAAhD,IAAqDA,OAAO,CAACE,QAA/D,CAAJ,EAA8E;AAC5E,cAAM,IAAInB,uBAAJ,EAAN;AACD;AACF;AARgD,GAAD,EAS/C;AACDgB,IAAAA,GAAG,EAAE,UADJ;AAED1D,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAI8D,SAAS,GAAG,CAAC,GAAGzD,kBAAkB,CAACJ,OAAvB,GAAiC,aAAaE,YAAY,CAACF,OAAb,CAAqB8D,IAArB,CAA0B,SAASC,OAAT,GAAmB;AACzG,YAAIC,kBAAJ,EAAwBC,mBAAxB,EAA6CC,QAA7C,EAAuDC,OAAvD,EAAgEC,OAAhE,EAAyEC,QAAzE;;AAEA,eAAOnE,YAAY,CAACF,OAAb,CAAqBsE,IAArB,CAA0B,UAAUC,SAAV,EAAqB;AACpD,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACC,IAAV,GAAiBD,SAAS,CAACE,IAAnC;AACE,mBAAK,CAAL;AACE,qBAAKC,qBAAL;AACAH,gBAAAA,SAAS,CAACE,IAAV,GAAiB,CAAjB;AACA,uBAAO1D,QAAQ,CAACf,OAAT,CAAiB2E,GAAjB,CAAqB,CAAChB,MAAM,CAACC,QAAP,CAAgBgB,OAAhB,CAAwB;AACnDC,kBAAAA,MAAM,EAAE;AAD2C,iBAAxB,CAAD,EAExBlB,MAAM,CAACC,QAAP,CAAgBgB,OAAhB,CAAwB;AAC1BC,kBAAAA,MAAM,EAAE;AADkB,iBAAxB,CAFwB,CAArB,CAAP;;AAMF,mBAAK,CAAL;AACEb,gBAAAA,kBAAkB,GAAGO,SAAS,CAACO,IAA/B;AACAb,gBAAAA,mBAAmB,GAAG,CAAC,GAAG9D,eAAe,CAACH,OAApB,EAA6BgE,kBAA7B,EAAiD,CAAjD,CAAtB;AACAE,gBAAAA,QAAQ,GAAGD,mBAAmB,CAAC,CAAD,CAA9B;AACAE,gBAAAA,OAAO,GAAGF,mBAAmB,CAAC,CAAD,CAA7B;AACAG,gBAAAA,OAAO,GAAGF,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAR,CAAYa,WAAZ,EAAd,GAA0C,IAApD;AACAV,gBAAAA,QAAQ,GAAGV,MAAM,CAACC,QAAlB;AACA,qBAAKO,OAAL,GAAeA,OAAf;AACA,qBAAKC,OAAL,GAAeA,OAAf;AACA,qBAAKC,QAAL,GAAgBA,QAAhB;AACA,qBAAKW,iBAAL,CAAuBX,QAAvB;AACA,uBAAOE,SAAS,CAACU,MAAV,CAAiB,QAAjB,EAA2B;AAChCZ,kBAAAA,QAAQ,EAAEA,QADsB;AAEhCF,kBAAAA,OAAO,EAAEA,OAFuB;AAGhCC,kBAAAA,OAAO,EAAEA;AAHuB,iBAA3B,CAAP;;AAMF,mBAAK,EAAL;AACA,mBAAK,KAAL;AACE,uBAAOG,SAAS,CAACW,IAAV,EAAP;AA7BJ;AA+BD;AACF,SAlCM,EAkCJnB,OAlCI,EAkCK,IAlCL,CAAP;AAmCD,OAtC6D,CAA9C,CAAhB;;AAwCA,aAAO,YAAY;AACjB,eAAOF,SAAS,CAACjC,KAAV,CAAgB,IAAhB,EAAsBD,SAAtB,CAAP;AACD,OAFD;AAGD,KA5CM;AAFN,GAT+C,EAwD/C;AACD8B,IAAAA,GAAG,EAAE,eADJ;AAED1D,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIoF,cAAc,GAAG,CAAC,GAAG/E,kBAAkB,CAACJ,OAAvB,GAAiC,aAAaE,YAAY,CAACF,OAAb,CAAqB8D,IAArB,CAA0B,SAASsB,QAAT,CAAkBjB,OAAlB,EAA2B;AACtH,YAAIkB,cAAJ;AACA,eAAOnF,YAAY,CAACF,OAAb,CAAqBsE,IAArB,CAA0B,UAAUgB,SAAV,EAAqB;AACpD,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACd,IAAV,GAAiBc,SAAS,CAACb,IAAnC;AACE,mBAAK,CAAL;AACE,qBAAKC,qBAAL;AACAP,gBAAAA,OAAO,GAAG,CAAC,GAAGjD,cAAc,CAAClB,OAAnB,EAA4BmE,OAA5B,CAAV;AACAkB,gBAAAA,cAAc,GAAG,KAAKlB,OAAtB;;AAEA,oBAAI,EAAEkB,cAAc,KAAKlB,OAArB,CAAJ,EAAmC;AACjCmB,kBAAAA,SAAS,CAACb,IAAV,GAAiB,CAAjB;AACA;AACD;;AAED,uBAAOa,SAAS,CAACL,MAAV,CAAiB,QAAjB,CAAP;;AAEF,mBAAK,CAAL;AACEK,gBAAAA,SAAS,CAACb,IAAV,GAAiB,CAAjB;AACA,uBAAOd,MAAM,CAACC,QAAP,CAAgBgB,OAAhB,CAAwB;AAC7BC,kBAAAA,MAAM,EAAE,4BADqB;AAE7BU,kBAAAA,MAAM,EAAE,CAAC;AACPpB,oBAAAA,OAAO,EAAEA;AADF,mBAAD;AAFqB,iBAAxB,CAAP;;AAOF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOmB,SAAS,CAACJ,IAAV,EAAP;AAxBJ;AA0BD;AACF,SA7BM,EA6BJE,QA7BI,EA6BM,IA7BN,CAAP;AA8BD,OAhCkE,CAA9C,CAArB;;AAkCA,aAAO,YAAY;AACjB,eAAOD,cAAc,CAACvD,KAAf,CAAqB,IAArB,EAA2BD,SAA3B,CAAP;AACD,OAFD;AAGD,KAtCM;AAFN,GAxD+C,EAiG/C;AACD8B,IAAAA,GAAG,EAAE,YADJ;AAED1D,IAAAA,KAAK,EAAE,YAAY;AACjB,UAAIyF,WAAW,GAAG,CAAC,GAAGpF,kBAAkB,CAACJ,OAAvB,GAAiC,aAAaE,YAAY,CAACF,OAAb,CAAqB8D,IAArB,CAA0B,SAAS2B,QAAT,CAAkBtB,OAAlB,EAA2BuB,SAA3B,EAAsCC,YAAtC,EAAoDC,cAApD,EAAoEC,MAApE,EAA4EC,gBAA5E,EAA8F;AACtL,YAAIC,UAAJ;AACA,eAAO7F,YAAY,CAACF,OAAb,CAAqBsE,IAArB,CAA0B,UAAU0B,SAAV,EAAqB;AACpD,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACxB,IAAV,GAAiBwB,SAAS,CAACvB,IAAnC;AACE,mBAAK,CAAL;AACE,qBAAKC,qBAAL;AACAqB,gBAAAA,UAAU,GAAG,CAAC,GAAG7E,cAAc,CAAClB,OAAnB,EAA4BmE,OAA5B,CAAb;AACA6B,gBAAAA,SAAS,CAACvB,IAAV,GAAiB,CAAjB;AACA,uBAAOd,MAAM,CAACC,QAAP,CAAgBgB,OAAhB,CAAwB;AAC7BC,kBAAAA,MAAM,EAAE,yBADqB;AAE7BU,kBAAAA,MAAM,EAAE,CAAC;AACPpB,oBAAAA,OAAO,EAAE4B,UADF;AAEPL,oBAAAA,SAAS,EAAEA,SAFJ;AAGPO,oBAAAA,cAAc,EAAE;AACdC,sBAAAA,IAAI,EAAEP,YADQ;AAEdQ,sBAAAA,MAAM,EAAEP,cAFM;AAGdQ,sBAAAA,QAAQ,EAAE;AAHI,qBAHT;AAQPC,oBAAAA,OAAO,EAAE,CAACR,MAAD,CARF;AASPS,oBAAAA,iBAAiB,EAAER,gBAAgB,GAAG,CAACA,gBAAD,CAAH,GAAwB;AATpD,mBAAD;AAFqB,iBAAxB,CAAP;;AAeF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOE,SAAS,CAACd,IAAV,EAAP;AAtBJ;AAwBD;AACF,SA3BM,EA2BJO,QA3BI,EA2BM,IA3BN,CAAP;AA4BD,OA9B+D,CAA9C,CAAlB;;AAgCA,aAAO,YAAY;AACjB,eAAOD,WAAW,CAAC5D,KAAZ,CAAkB,IAAlB,EAAwBD,SAAxB,CAAP;AACD,OAFD;AAGD,KApCM;AAFN,GAjG+C,CAAlD;AAyIA,SAAOoB,qBAAP;AACD,CA/JwC,CA+JvC/B,sBAAsB,CAAChB,OA/JgB,CAAzC;;AAiKA,IAAIuG,QAAQ,GAAGxD,qBAAf;AACAjD,OAAO,CAACE,OAAR,GAAkBuG,QAAlB","sourcesContent":["\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = exports.InjectedEvents = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/wrapNativeSuper\"));\n\nvar _freeze = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/freeze\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _verifyChainId = _interopRequireDefault(require(\"../utils/verifyChainId\"));\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar InjectedEvents = (0, _freeze.default)({\n  ACCOUNTS_CHANGED: 'accountsChanged',\n  CHAIN_CHANGED: 'chainChanged',\n  CONNECT: 'connect',\n  DISCONNECT: 'disconnect'\n});\nexports.InjectedEvents = InjectedEvents;\n\nvar NoEthereumProviderError = /*#__PURE__*/function (_Error) {\n  (0, _inherits2.default)(NoEthereumProviderError, _Error);\n\n  var _super = _createSuper(NoEthereumProviderError);\n\n  function NoEthereumProviderError() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, NoEthereumProviderError);\n    _this = _super.call(this);\n    _this.message = 'Non ethereum enabled browser';\n    return _this;\n  }\n\n  return (0, _createClass2.default)(NoEthereumProviderError);\n}( /*#__PURE__*/(0, _wrapNativeSuper2.default)(Error));\n/**\n * Connector to connect an injected provider (like Metamask) to Moralis\n * The provider should be injected in window.ethereum\n */\n\n\nvar InjectedWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(InjectedWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super2 = _createSuper(InjectedWeb3Connector);\n\n  function InjectedWeb3Connector() {\n    var _context;\n\n    var _this2;\n\n    (0, _classCallCheck2.default)(this, InjectedWeb3Connector);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super2.call.apply(_super2, (0, _concat.default)(_context = [this]).call(_context, args));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this2), \"type\", 'injected');\n    return _this2;\n  }\n\n  (0, _createClass2.default)(InjectedWeb3Connector, [{\n    key: \"verifyEthereumBrowser\",\n    value: function () {\n      var _window;\n\n      if (!((_window = window) !== null && _window !== void 0 && _window.ethereum)) {\n        throw new NoEthereumProviderError();\n      }\n    }\n  }, {\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _yield$Promise$all, _yield$Promise$all2, accounts, chainId, account, provider;\n\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                _context2.next = 3;\n                return _promise.default.all([window.ethereum.request({\n                  method: 'eth_requestAccounts'\n                }), window.ethereum.request({\n                  method: 'eth_chainId'\n                })]);\n\n              case 3:\n                _yield$Promise$all = _context2.sent;\n                _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 2);\n                accounts = _yield$Promise$all2[0];\n                chainId = _yield$Promise$all2[1];\n                account = accounts[0] ? accounts[0].toLowerCase() : null;\n                provider = window.ethereum;\n                this.chainId = chainId;\n                this.account = account;\n                this.provider = provider;\n                this.subscribeToEvents(provider);\n                return _context2.abrupt(\"return\", {\n                  provider: provider,\n                  chainId: chainId,\n                  account: account\n                });\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      var _switchNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(chainId) {\n        var currentNetwork;\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                chainId = (0, _verifyChainId.default)(chainId);\n                currentNetwork = this.chainId;\n\n                if (!(currentNetwork === chainId)) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _context3.next = 7;\n                return window.ethereum.request({\n                  method: 'wallet_switchEthereumChain',\n                  params: [{\n                    chainId: chainId\n                  }]\n                });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _switchNetwork.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      var _addNetwork = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(chainId, chainName, currencyName, currencySymbol, rpcUrl, blockExplorerUrl) {\n        var newchainId;\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.verifyEthereumBrowser();\n                newchainId = (0, _verifyChainId.default)(chainId);\n                _context4.next = 4;\n                return window.ethereum.request({\n                  method: 'wallet_addEthereumChain',\n                  params: [{\n                    chainId: newchainId,\n                    chainName: chainName,\n                    nativeCurrency: {\n                      name: currencyName,\n                      symbol: currencySymbol,\n                      decimals: 18\n                    },\n                    rpcUrls: [rpcUrl],\n                    blockExplorerUrls: blockExplorerUrl ? [blockExplorerUrl] : null\n                  }]\n                });\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function () {\n        return _addNetwork.apply(this, arguments);\n      };\n    }()\n  }]);\n  return InjectedWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nvar _default = InjectedWeb3Connector;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}